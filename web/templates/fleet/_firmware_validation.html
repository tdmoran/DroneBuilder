<article>
  <header>
    <strong>FC Configuration Validation</strong>
    &mdash; {{ config.firmware }} {{ config.firmware_version }}
  </header>

  {% if report.passed %}
  <div style="border-left: 4px solid #2ecc40; padding: 0.5rem 0.75rem; margin-bottom: 0.75rem;">
    <strong style="color: #2ecc40;">All checks passed</strong>
    <br><small>{{ report.results | length }} checks run &mdash;
    {{ report.warnings | length }} warning{{ 's' if report.warnings | length != 1 }},
    {{ report.info | length }} info note{{ 's' if report.info | length != 1 }}</small>
  </div>
  {% else %}
  <div style="border-left: 4px solid #ff4136; padding: 0.5rem 0.75rem; margin-bottom: 0.75rem;">
    <strong style="color: #ff4136;">{{ report.critical_failures | length }} critical issue{{ 's' if report.critical_failures | length != 1 }}</strong>
    <br><small>{{ report.results | length }} checks run &mdash;
    {{ report.warnings | length }} warning{{ 's' if report.warnings | length != 1 }},
    {{ report.info | length }} info note{{ 's' if report.info | length != 1 }}</small>
  </div>
  {% endif %}

  {% if report.critical_failures %}
  <div class="validation-section critical">
    <strong class="severity-critical">Critical Failures</strong>
    {% for r in report.critical_failures %}
    <div class="validation-item">
      <strong>{{ r.constraint_id }}</strong>: {{ r.constraint_name }}<br>
      <small>{{ r.message }}</small>
    </div>
    {% endfor %}
  </div>
  {% endif %}

  {% if report.warnings %}
  <div class="validation-section warning">
    <strong class="severity-warning">Warnings</strong>
    {% for r in report.warnings %}
    <div class="validation-item">
      <strong>{{ r.constraint_id }}</strong>: {{ r.constraint_name }}<br>
      <small>{{ r.message }}</small>
    </div>
    {% endfor %}
  </div>
  {% endif %}

  {% if report.info %}
  <div class="validation-section info">
    <strong class="severity-info">Info</strong>
    {% for r in report.info %}
    <div class="validation-item">
      <strong>{{ r.constraint_id }}</strong>: {{ r.constraint_name }}<br>
      <small>{{ r.message }}</small>
    </div>
    {% endfor %}
  </div>
  {% endif %}
</article>
